<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head><title>FTS3 config</title>
<link rel="stylesheet" href="style.css" type="text/css" media="all" />
<link rel="stylesheet" href="table.css" type="text/css" media="all" />

<script type="text/javascript" src="data.js"></script>
<script type="text/javascript" src="json2.js"></script>
<script type="text/javascript" src="ui.js"></script>
<script type="text/javascript" src="proc.js"></script>
<script>
// create hash with table objects
var gtables = {};

var tab_activate = function (tid, ctabs, tabclass){     //select active tab, tid - string with the name of the link
                                                        //ctabs - tabs container, tabclass - common classname for divs with tab content
        var i;
// disable all tabs and activate the selected tab
// hide all tabs content and show selected only
        var tn = ctabs.getElementsByTagName("LI");
        var tc = getElementsByClassName(tabclass,"div");
        for (i = 0; i < tn.length; i++){
                tn[i].className = (tn[i].name == tid) ? "active" : "";
                tc[i].style.display = (tc[i].id == tid) ? "block" : "none";
        }
        return true;
}

function init() {
	var tabs = document.getElementById("box");

	for (var i=0; i<sections.length; i++) {                                                                                     
		var tbName = document.createElement("li");      // horisontal tabs for inner windows
		tbName.name = "tab" + i;
		tbName.onclick = function() {tab_activate(this.name, tabs,"center");return false};
		tabs.appendChild(tbName);
                                                                                                                                                 
		var tbPar = document.createElement("p");
		var tbLink = document.createElement("a");
		tbLink.href = "#";
		tbLink.innerHTML = sections[i];
		tbPar.appendChild(tbLink);
		tbName.appendChild(tbPar);
	}


// init all tabs
	gtables["t_se"] = new sel_table("t_se", "tab0", "90%", "se.html", "850", "550");
	gtables["t_se_groups"] = new sel_table("t_se_groups", "tab1", "50%", "group.html","450", "550"); 
	gtables["t_config_pair"] = new sel_table("t_config_pair", "tab2", "90%", "pair.html","550", "500"); 
	for (var key in gtables) {
		var sel = gtables[key].getData({});
		if (sel.status != 0) return false;                                                                    
		if (sel.rowNum != 0) gtables[key].drawTable(sel.data);
	}

// select active tab by default
	tab_activate("tab0", tabs, "center");
}
</script>
</head>
<body onload="init()">
<div id="curtain"></div>
<div id="wrap">
	<div id="header"><h1>FTS3 config</h1></div>
	<ul class="box" id="box"></ul>                                                   
	<div class="center" id="tab0"></div>
	<div class="center" id="tab1"></div>
	<div class="center" id="tab2"></div>
</div>
</body>
</html>
